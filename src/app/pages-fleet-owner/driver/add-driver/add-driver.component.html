<div class="bg-gray-50 w-full min-h-screen dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200 p-6">
  <div class="w-full bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden p-6">
    <div class="text-center mb-6">
      <h2 class="text-2xl font-bold">Add Driver</h2>
      <p class="text-gray-500 dark:text-gray-400 mt-2">Fill in the details to register a new Driver</p>
      <p *ngIf="userEmail" class="text-sm text-gray-500 dark:text-gray-400 mt-1">
        Fleet Owner: {{ userEmail }}
      </p>
    </div>

    <form class="space-y-4" [formGroup]="addDriverForm" (ngSubmit)="onSubmit()">
      <!-- First Name & Last Name -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- First Name -->
        <div>
          <label for="firstName" class="block text-sm font-medium mb-1">First Name</label>
          <input type="text" id="firstName" formControlName="firstName" required
            class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"
            [class.border-red-500]="firstName?.invalid && (firstName?.dirty || firstName?.touched)">
          <div *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched)"
            class="text-red-500 text-sm mt-1">
            <span *ngIf="firstName?.errors?.['required']">First name is required</span>
            <span *ngIf="firstName?.errors?.['maxlength']">Maximum 50 characters allowed</span>
          </div>
        </div>

        <!-- Last Name -->
        <div>
          <label for="lastName" class="block text-sm font-medium mb-1">Last Name</label>
          <input type="text" id="lastName" formControlName="lastName" required
            class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"
            [class.border-red-500]="lastName?.invalid && (lastName?.dirty || lastName?.touched)">
          <div *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)"
            class="text-red-500 text-sm mt-1">
            <span *ngIf="lastName?.errors?.['required']">Last name is required</span>
            <span *ngIf="lastName?.errors?.['maxlength']">Maximum 50 characters allowed</span>
          </div>
        </div>
      </div>

      <!-- Email -->
      <div>
        <label for="email" class="block text-sm font-medium mb-1">Email</label>
        <input type="email" id="email" formControlName="email" required
          class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"
          [class.border-red-500]="email?.invalid && (email?.dirty || email?.touched)">
        <div *ngIf="email?.invalid && (email?.dirty || email?.touched)"
          class="text-red-500 text-sm mt-1">
          <span *ngIf="email?.errors?.['required']">Email is required</span>
          <span *ngIf="email?.errors?.['email']">Please enter a valid email</span>
        </div>
      </div>

      <!-- Password -->
      <div>
        <label for="password" class="block text-sm font-medium mb-1">Password</label>
        <div class="relative">
          <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password" required
            class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"
            [class.border-red-500]="password?.invalid && (password?.dirty || password?.touched)">
          <button type="button" (click)="showPassword = !showPassword" 
                  class="absolute right-3 top-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300">
            <i class="fas" [class.fa-eye]="!showPassword" [class.fa-eye-slash]="showPassword"></i>
          </button>
        </div>
        <div *ngIf="password?.invalid && (password?.dirty || password?.touched)"
          class="text-red-500 text-sm mt-1">
          <span *ngIf="password?.errors?.['required']">Password is required</span>
          <span *ngIf="password?.errors?.['minlength']">Minimum 8 characters required</span>
          <span *ngIf="password?.errors?.['pattern']">
            Must include uppercase, lowercase, number, and special character
          </span>
        </div>
      </div>

      <!-- Phone Number -->
      <div>
        <label for="phoneNumber" class="block text-sm font-medium mb-1">Phone Number</label>
        <input type="tel" id="phoneNumber" formControlName="phoneNumber" required
          class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"
          [class.border-red-500]="phoneNumber?.invalid && (phoneNumber?.dirty || phoneNumber?.touched)">
        <div *ngIf="phoneNumber?.invalid && (phoneNumber?.dirty || phoneNumber?.touched)"
          class="text-red-500 text-sm mt-1">
          <span *ngIf="phoneNumber?.errors?.['required']">Phone number is required</span>
          <span *ngIf="phoneNumber?.errors?.['pattern']">
            Please enter 10-15 digits only
          </span>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="pt-4">
        <button type="submit" [disabled]="addDriverForm.invalid || isLoading"
          class="w-full cursor-pointer bg-pink-600 hover:bg-pink-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed">
          <span *ngIf="!isLoading">Add Driver</span>
          <span *ngIf="isLoading" class="flex items-center justify-center">
            <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            Processing...
          </span>
        </button>
      </div>
    </form>
  </div>
</div>